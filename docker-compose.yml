services:
  clawd:
    build: .
    ports:
      - "3000:3000"
    volumes:
      - /c:/host/c
      - ./credentials.json:/app/credentials.json:ro
    environment:
      - ANTHROPIC_API_KEY
      - CLAWD_HOST=0.0.0.0
      - CLAWD_PORT=3000
      - HOST_DRIVE_PREFIX=/host/c
      # ANTHROPIC_API_KEY is optional when using OAuth credentials via Settings
      # --- Push notifications via ntfy (optional) ---
      - NTFY_TOPIC
      - NTFY_SERVER
      # --- Git push support (optional) ---
      - GIT_USER_NAME
      - GIT_USER_EMAIL
      - GITHUB_TOKEN
    restart: unless-stopped
